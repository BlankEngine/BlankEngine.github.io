class Window{static #a=!1;static #b=!1;static #c=0;static data={title:"Untitled",width:0,height:0,marginX:0,marginY:0,resizable:!0,fillWindow:!0,icon:""};static fullScreen=!1;static OnFullscreenEnter=()=>{};static OnFullscreenExit=()=>{};static #d(){requestAnimationFrame(this.#e.bind(this))}static #e(){document.hasFocus()&&(document.fullscreenElement&&!this.fullScreen?(Window.OnFullscreenExit(),document.exitFullscreen()):!document.fullscreenElement&&this.fullScreen&&(Window.OnFullscreenEnter(),document.documentElement.requestFullscreen())),this.#f(),this.#d()}static #f(){if(this.data.fillWindow&&1!=this.#c&&(Application.htmlCanvas.width=window.innerWidth-.01*this.data.marginX*window.innerWidth,Application.htmlCanvas.height=window.innerHeight-.01*this.data.marginY*window.innerHeight,this.#c=1),this.data.fillWindow||2==this.#c||(Application.htmlCanvas.width=this.data.width,Application.htmlCanvas.height=this.data.height,this.#c=2),Application.htmlCanvas.style.width=`${100-2*this.data.marginX}%`,Application.htmlCanvas.style.height=`${100-2*this.data.marginY}%`,!this.#b||this.fullScreen)return;let t=this.data.width+(window.outerWidth-window.innerWidth)+.02*this.data.width*this.data.marginX,i=this.data.height+(window.outerHeight-window.innerHeight)+.02*this.data.height*this.data.marginY;window.resizeTo(t,i),this.#b=!1}static Init(){this.#a||(Application.Init(this.data.width,this.data.height),this.#b=!0,this.SetTitle(this.data.title),this.SetIcon(this.data.icon),this.#d(),window.addEventListener("resize",()=>{this.data.resizable||(this.#b=!0)}),this.#a=!0)}static SetBase(t,i,e,a,h,s){this.SetTitle(t),this.SetSize(i,e),this.SetMargin(a,h),null!=s&&this.SetIcon(s),this.#b=!0}static SetTitle(t){this.data.title=t??"Untitled",document.title=this.data.title}static SetSize(t,i){this.data.width=t,this.data.height=i,Application.htmlCanvas.width=this.data.width,Application.htmlCanvas.height=this.data.height,this.#b=!0}static SetMargin(t,i){this.data.marginX=t??0,this.data.marginY=i??0,this.#b=!0}static SetIcon(t){this.data.icon=t;let i=document.querySelector("link[rel=icon]");null==i&&((i=document.createElement("link")).rel="icon",document.head.append(i)),i.href=this.data.icon}}